<!DOCTYPE html>
<html>
<body>
<p>PLAY MUSIC!</p>

	<button id="play">Play</button>
	<button id="stop">Stop</button>
	
	<select id="layer-2">
		<option value='harmony/piano-guitar'>harmony/piano-guitar</option>
		<option value='null'>null</option>
	</select>

	<script src="looper/script.js"></script>
	
<script>

var music={
	'happy':[
		['drums/simple']
		,['bass']
		,['harmony/piano-guitar']
		,[null,null,null,'melody/guitar',null,'melody/marimba',null,null]
	]
};

var song=new Looper();

//Load all relevant files
song.load([
	'happy/drums/simple'
	,'happy/bass'
	,'happy/harmony/piano-guitar'
	,'happy/melody/guitar'
	,'happy/melody/marimba'
]).then((values)=>{
	loopDuration=values[0].duration;
});

//UI BUTTONS//
document.getElementById('play').addEventListener('click',function(){
	song.playTrack('happy');
});

document.getElementById('stop').addEventListener('click',function(){
	song.stopTrack('happy')
});

//Testing enabling and disabling different layers
document.getElementById('layer-2').addEventListener('change',function(event){
	var value=this.value;
	if(value==='null') value=[null];
	else value=value.split('|');

	song.adjustLayer('happy',2,value);
	
	console.log(value);
});

</script>
	
</body>
</html>